<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maintenance - Strata Management</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="pages.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">Strata Management</div>
        <div class="nav-links">
            <a href="../index.html">Dashboard</a>
            <a href="meetings.html">Meetings</a>
            <a href="maintenance.html">Maintenance</a>
            <a href="documents.html">Documents</a>
            <a href="contact.html">Contact</a>
        </div>
    </nav>

    <main class="container">
        <h1>Maintenance Portal</h1>

        <div class="maintenance-grid">
            <div class="maintenance-form">
                <h2>Report an Issue</h2>
                <form id="maintenanceForm" method="POST" action="/api/report-issue">
                    <div class="form-group">
                        <label for="category">Category:</label>
                        <select id="category" name="category" required>
                            <option value="">Select category...</option>
                            <option value="plumbing">Plumbing</option>
                            <option value="electrical">Electrical</option>
                            <option value="structural">Structural</option>
                            <option value="common">Common Areas</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="urgency">Urgency Level:</label>
                        <div class="radio-group">
                            <input type="radio" id="low" name="urgency" value="low">
                            <label for="low">Low</label>
                            <input type="radio" id="medium" name="urgency" value="medium">
                            <label for="medium">Medium</label>
                            <input type="radio" id="high" name="urgency" value="high">
                            <label for="high">High</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="description">Description:</label>
                        <textarea id="description" name="description" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="photo">Upload Photo:</label>
                        <input type="file" id="photo" name="photo" accept="image/*">
                    </div>

                    <button type="submit">Submit Report</button>
                </form>
            </div>

            <div class="maintenance-status">
                <h2>Active Issues</h2>
                <div class="status-list" id="activeIssues">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </div>
    </main>

    <script>
        // Mock data for active issues
        const activeIssues = [
            { id: 1, category: 'plumbing', description: 'Leaking tap in common bathroom', status: 'in-progress', created: '2025-03-30' },
            { id: 2, category: 'electrical', description: 'Flickering lights in corridor', status: 'pending', created: '2025-03-29' }
        ];

        // Render active issues
        function renderActiveIssues() {
            const container = document.getElementById('activeIssues');
            container.innerHTML = activeIssues.map(issue => `
                <div class="issue-card ${issue.status}">
                    <div class="issue-header">
                        <span class="category">${issue.category}</span>
                        <span class="status">${issue.status}</span>
                    </div>
                    <p>${issue.description}</p>
                    <div class="issue-footer">
                        <span class="date">Reported: ${issue.created}</span>
                    </div>
                </div>
            `).join('');
        }

        // Initialize
        renderActiveIssues();

        // Form submission
        document.getElementById('maintenanceForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            // In a real app, this would send data to the server
            alert('Maintenance issue reported successfully!');
            e.target.reset();
        });
    </script>
</body>
</html>
